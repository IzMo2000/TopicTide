{% extends "layout.html" %}
{% block content %}

{% with messages = get_flashed_messages() %}
    {% if messages %}
        <div style="font-weight: bold; text-align: center; font-size: 20px; color: red;">
        {{ messages[0] }}
        </div>
    {% endif %}
{% endwith %}

<h2 class = "pagetitle">Tracked Topics</h2>
    {% if topics %}
    {% for topic in topics %}

    <div class = "tracked">
    <div class = "left-align">
    
    
    <h2 class = "pagetitle" style = "margin-left: 40px; margin-right: 100px; font-size:30px;">
            {{topic[0]}}

        
    </h2>
   
    <p>
        <a href="{{ url_for('topic_expand', expanded_topic = topic[0]) }}">
            <button style = "margin-right: 20px;" type = "button"> Expand </button>
        </a>
        
    </p>
    <p>|</p>
    <p>
        <form action="/remove_tracked" method="POST">
            <input type="hidden" name="topic" value="{{topic[0]}}">
            <button id="clearRecentSearchesButton" style = "margin-left: 20px;" type="submit">Stop Tracking</button>
        </form>
    </p>

    </div>
    <div class = "card" style = "height: 125px; margin-top: 6px; width: 80%;">
        <div style = "padding-top: 5px;"    >
        <p style = "text-align: left; font-size:22px;"> Newest: </p>
            {% for article in topic[1:] %}
           
            
                <p style="font-size:22px; text-align: left; ">
                    <a href={{article.url}}>
                        {{ article.title }}
                    </a>
                </p>
               
            {% endfor %}
           </div>
           
    </div>
    </div>
    </div>
            
    {% endfor %}
    {% else %}
        <p class = "pagetitle" style="text-align: center;"> No tracked topics.</p>
    {% endif %}
{% endblock %}
